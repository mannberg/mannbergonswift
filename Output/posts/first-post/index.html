<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mannberg on Swift"/><link rel="canonical" href="https://your-website-url.com/posts/first-post"/><meta name="twitter:url" content="https://your-website-url.com/posts/first-post"/><meta name="og:url" content="https://your-website-url.com/posts/first-post"/><title>Hej! | Mannberg on Swift</title><meta name="twitter:title" content="Hej! | Mannberg on Swift"/><meta name="og:title" content="Hej! | Mannberg on Swift"/><style>@import url('https://fonts.googleapis.com/css2?family=Fugaz+One&display=swap');</style><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mannberg on Swift"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Mannberg on Swift</a><p>Exploring functional programming, test-driven development and all that jazz!</p><nav><ul><li><a class="selected" href="/posts">Posts</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>Hej!</h1><p>My first post's text.</p><pre><code><span class="keyword">class</span> LoginViewController: <span class="type">UIViewController</span> {
    <span class="keyword">let</span> viewModel = <span class="type">LoginViewModel</span>()
    
    <span class="keyword">lazy var</span> emailField: <span class="type">UITextField</span> ...
    <span class="keyword">lazy var</span> passwordField: <span class="type">UITextField</span> ...
    <span class="keyword">lazy var</span> infoLabel: <span class="type">UILabel</span> ...
    <span class="keyword">lazy var</span> indicator: <span class="type">UIActivityIndicatorView</span> ...
    <span class="keyword">lazy var</span> loginButton: <span class="type">UIButton</span> ...
    
    <span class="keyword">private func</span> setupBindings() {
        <span class="comment">//view model inputs</span>
        loginButton.<span class="call">addTarget</span>(viewModel, action: <span class="keyword">#selector</span>(viewModel.<span class="property">didPressLoginButton</span>), for: .<span class="dotAccess">touchUpInside</span>)
        emailField.<span class="call">addTarget</span>(viewModel, action: <span class="keyword">#selector</span>(viewModel.<span class="call">emailDidChange</span>(<span class="keyword">_</span>:)), for: .<span class="dotAccess">editingChanged</span>)
        passwordField.<span class="call">addTarget</span>(viewModel, action: <span class="keyword">#selector</span>(viewModel.<span class="call">passwordDidChange</span>(<span class="keyword">_</span>:)), for: .<span class="dotAccess">editingChanged</span>)
        
        <span class="comment">//view model outputs</span>
        viewModel.<span class="property">outputs</span>.<span class="property">userInputIsValid</span> = { [<span class="keyword">unowned self</span>] isValid <span class="keyword">in
            self</span>.<span class="property">loginButton</span>.<span class="property">isEnabled</span> = isValid
            <span class="keyword">self</span>.<span class="property">loginButton</span>.<span class="property">backgroundColor</span> = isValid ? .<span class="dotAccess">green</span> : .<span class="dotAccess">gray</span>
        }
        
        viewModel.<span class="property">outputs</span>.<span class="property">changedLoadingState</span> = { [<span class="keyword">unowned self</span>] state <span class="keyword">in
            switch</span> state {
            <span class="keyword">case</span> .<span class="dotAccess">loading</span>:
                <span class="keyword">self</span>.<span class="property">indicator</span>.<span class="call">startAnimating</span>()
            <span class="keyword">case</span> .<span class="dotAccess">doneLoading</span>(<span class="keyword">_</span>):
                <span class="keyword">self</span>.<span class="property">indicator</span>.<span class="call">stopAnimating</span>()
                <span class="keyword">self</span>.<span class="property">infoLabel</span>.<span class="property">isHidden</span> = <span class="keyword">true
            case</span> .<span class="dotAccess">failedLoading</span>(<span class="keyword">let</span> error) <span class="keyword">where</span> error == .<span class="dotAccess">invalidCredentials</span>:
                <span class="keyword">self</span>.<span class="property">indicator</span>.<span class="call">stopAnimating</span>()
                <span class="keyword">self</span>.<span class="property">infoLabel</span>.<span class="property">isHidden</span> = <span class="keyword">false
                self</span>.<span class="property">infoLabel</span>.<span class="property">text</span> = <span class="string">"Invalid credentials"</span>
                <span class="keyword">self</span>.<span class="property">infoLabel</span>.<span class="call">sizeToFit</span>()
            <span class="keyword">default</span>:
                ...
            }
        }
    }
    
    <span class="keyword">override func</span> viewDidLoad() {
        <span class="keyword">super</span>.<span class="call">viewDidLoad</span>()
        <span class="call">setupBindings</span>()
    }
}
</code></pre><p>Let's continue...</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/first">first</a></li><li><a href="/tags/article">article</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>